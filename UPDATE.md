# Version 2.99

[使用说明](https://t.cn/A62oOnVP)

## 更新日志

#### 本次更新

- 现在可以获取 Bilibili 的文章封面

- 现在可以获取微信公众号文章封面

- 修复其它 BUG

#### 2020-05-30

- 添加搜索功能

- 动态自适应深色模式

- 改进通知中心预览体验

- 花式字体添加恢复为正常字符选项

- 减少无法在通知中心立即获取剪贴板内容的概率

- 分词可长按复制

- 细节改进和其它 BUG 修复

#### 2019-10-14

- 恢复 t.cn 短链接服务

- 更多字号调整

- 其它 BUG 修复

#### 2019-10-8

- 跟进适配 iOS 13，界面更新，支持深色模式

- 修复分享扩展

- 新增花式字体、自定义预览动作等

- 由于新浪不再对外提供短网址服务，替换为 tinyurl 短网址

- 修复分词时大段文字无法滚动的 BUG

- 修复 iOS 13 切换应用商店功能

- 汇率查询修复不显示欧元的 BUG

- 由于 iOS 13 无法在通知中心正常使用键盘，编码解码、汇率查询功能模块提供了通知中心专用的小键盘

- 目前移除的功能：详细编辑文本、键盘工具栏、生成桌面快捷方式（iOS 13 下失效）

- 原详细编辑文本功能替换为预览文本，预览视图下，长按即可显示二维码，长按二维码即可保存到相册。

- 重写收集剪贴板文本的逻辑，其它细节更新，BUG 修复。

#### 已知问题

- 包括 2.7 以下的版本，更新时需手动备份本地剪贴板内容，但是从下次更新时不用特意去备份

- 由于 APP 对键盘组件的支持不佳，暂时放弃适配键盘模块，但会随着 APP 更新跟进支持

- 由于 APP 未完整适配深色模式，目前存在以下问题：
> 1. `UITextfield` 的 `placeholder` 在深色模式下显示效果不佳
> 2. `TabView`、`StepperView` 深色模式显示不佳，无法正常更改 `TintColor`
> 3. 替换了 `Input` 控件的 `$Input` 方法，无法与控件的事件相对应，有时会造成脚本崩溃
> 4. 无法设置为默认键盘脚本，键盘模式下，对于深色模式的变化无法及时反应

## 更早的更新日志

#### 2019-7-3

本次更新处理了一批细节问题，并引入了新的汇率查询 API 以满足更多更及时的需求。

##### 汇率查询接口说明

进入 `scripts/plugins/exchange-rate.js`

第一行引号内为空或不合法时，使用无需注册的免费 API，数据以 EUROPEAN CENTRAL BANK 每个工作日 CET 时间 16:00 公布的数据为准；

若需要更多、更及时的数据，请前往 https://fixer.io/product 根据个人需求注册并将 Access Key 填入第一行引号内即可使用。免费套餐拥有 1000 次/月的配额，可查询包括比特币、新台币、盎司金等 168 种货币汇率，每小时更新。

#### 2019-6-14

现在已支持作为键盘组件使用。

下方为简单的使用说明，和通知中心组件略有差别。

[点击查看使用说明示意图](http://tva1.sinaimg.cn/large/007X8olVly1g7r0sxsquuj30u010ral7.jpg?_blank)

#### 2019-5-30

引入 toast 动效，感谢 AbleCats。

添加记录统计。

BUG 修复和其他调整。

#### 2019-5-24

Ver 2.4

整合10010资费查询。

#### 2019.5.1

Ver 2.3

- 改善保存大量剪贴板数据时，Widget小组件加载缓慢的情况。

- 移除不稳定的bing词典，换成有道词典。



#### 2019.4.29

Ver 2.2

- 细节改善

- 加入网页快照功能



#### 2019.4.22

Ver 2.1

- 提升交互体验，删除冗余代码

- 其他问题修复或改善



#### 2019.4.19

Ver 2.0

- Widget界面改版，增加动画&细节等，更加友好

- 现在可以隐藏统治中心底栏了

- 其他问题修复或改善



#### 2019.4.5

Ver 1.9

- 主应用UI改版，更加友好

- 允许自定义界面颜色

- 添加打赏人员名单以示感谢

- 可以在通知中心掷钟大写的骰子了

- 修复微博国际版链接转换

- 其他问题修复或改善



#### 2019.1.26

Ver 1.8

BUG修复



#### 2018.12.23

Ver 1.7

添加了比较细致的剪贴板同步功能

恢复了长按排序操作

其它调整优化，bug修复

![](https://tva1.sinaimg.cn/large/6ef8b302ly1gfawzr129xj20id0s3whm.jpg)
![](https://tva1.sinaimg.cn/large/6ef8b302ly1gfawzqx567j20dx0dhwfj.jpg)

#### 2018.12.10

Ver 1.6

添加了一个8in1数据转换

细节优化 BUG修复

![](https://tva1.sinaimg.cn/large/6ef8b302ly1gfawzqyl0aj20x80u0jvg.jpg)

#### 2018.12.4

Ver 1.5

细节调整，BUG修复。

分词新功能：剔除模式。

增加文本编辑（感谢Axel大神，参考了的ClipEditor）功能：Widget双击输入框，或APP内点右上角加号。

![](https://tva1.sinaimg.cn/large/6ef8b302ly1gfawzrg5uij20yi1hkjzp.jpg)

#### 2018.12.1

Ver 1.4

分词BUG已修复。

canvas重绘web预览前进后退按钮。

对部分内容进行了英化（原本自用时去掉了英文）。

其他BUG修复。

##### 注意

最近有些用户添加自用脚本到Pin+，请在更新前注意备份。

若有什么好用的脚本，可以向我反馈，综合考虑使用人数，原作者意愿等决定是否内置。

#### 2018.11.29

Ver 1.2

这下X用户的搜索框问题应该解决了。


#### 2018.11.29

Ver 1.1

1. 添加检测更新功能；

2. Widget Web预览更加便捷；

3. 其他细节优化，bug修复。

#### 2018.11.27

##### Ver 1.0

本人原为Pin APP的重度用户，奈何一些方面的局限性不得不转到了JSBox。对于极简主义的追求（互为替代关系的功能仅保留一个），Pin+做出来了。

原本的出发点是写一个仅供个人使用的脚本并且不打算公开（因为有部分代码是真大佬的作品里扒出来的，分享出来感觉不是太妥当）。

比较仓促，一方面这是摸鱼作品，另一方面调整了一些内容以适合更多人的操作、习惯，原本是给自己用，一些东西未必适合所有人，看的懂代码还好，要是看不懂用起来就不是很顺手了。不过既然公开了，以后肯定会做的对小白友好一些。

  

#### 说在前面

1. 请在极限模式下使用以保证完整的体验，建议高度180（实际情况请自行测试，可反馈），此外，系统设置中建议使用标准视图，否则会出现显示错位。

2. 相比于Pin APP，Pin+的优势就不说了，在群里看到有朋友说没有加iCloud同步功能，以后有空试试加上吧。近期会考虑加入自动更新功能。

3. 相比于钟大的pin.box，最主要对核心功能“剪贴板”做了优化，尽可能保证不出现复制剪切后在widget通知中心没有显示的问题，如果出现，请下拉列表试试。

4. 对于Pin+，个人的理念这是制霸通知中心的一个脚本，因此大部分功能都集中在Widget界面上，设置调整方面的东西在APP里。

  

下面简单说一下操作，自己用的顺手，别人不一定。

- Widget中，本着复刻Pin界面的理念加入了剪贴板输入框，也就意味着必须开极限模式才能拥有完整体验。

输入框右边的四个按钮，响应的点击事件分别是通知中心Web预览，谷歌翻译，分享剪贴板内容，清空剪贴板。

响应的长按事件分别是打开Safari搜索剪贴板输入框内容，英汉词典，分享记录列表所有条目，清空记录列表。

![](https://tva1.sinaimg.cn/large/6ef8b302ly1gfawzr65zlj20yi0isat5.jpg)
![](https://tva1.sinaimg.cn/large/6ef8b302ly1gfawzr7s64j20yi10w7a5.jpg)

预览剪贴板输入框的内容。如果是链接直接显示在第一个tab。

- 翻译和词典功能如下，自己研究吧，有一个问题不知道是因为自己没写好还是iOS的原因还是bug，词典的TTS功能我这里一直无法正常用，求反馈。

![](https://tva1.sinaimg.cn/large/6ef8b302ly1gfawzrrrtyj20yi2kn4q0.jpg)

  

- Pin的几个基本功能也是尽量保持和原本一致，分词，长按预览都有，只是由于本人水平有限，无法像Pin那样把每条内容后四个按钮做的自然些，因此保留了左滑操作。

原版的pin.box可以拖动调整列表条目位置，但是Pin+为了长按预览做出了取舍，作为补偿在左滑中加入了置顶（如果剪贴板有内容的话，再次拉下Widget会被挤到第二行）。有需要的可以自行修改，拖动调整的代码还在。

在这里要说一下，增加了一个向下滑动的动作，可以立刻刷新并展示剪贴板内容，这对于在通知中心操作复制剪切功能相当有用，也可以算作偶然无法显示剪贴板内容的间接解决方案。

![](https://tva1.sinaimg.cn/large/6ef8b302ly1gfawzr9iqtj20yi1k5qda.jpg)

![](https://tva1.sinaimg.cn/large/6ef8b302ly1gfawzro72cj20yi0j1wug.jpg)

分词是钟大开发的一个特别实用的功能，从lco大佬的Catcher扒出来魔改了一下。目前已知的问题是字数过多时点击词块不会标记选中（实际选中了，没有影响），在APP中操作正常。

> 最后就是下面这排东西了。用Cyan大佬的pin.box时，发现有些添加到pin.box中的独立脚本会直接跳转到APP中使用，因此最好做成模块放入pin.box中。目前，根据个人使用习惯，下列内容是我放的，稍微能看懂点代码也可以放自己的东西。

钟大的汇率查询脚本非常实用，在钟大修复$ui.menu在极限模式下的遮挡问题前加入，因此用list代替menu（好像看着更美观了23333）

![](https://tva1.sinaimg.cn/large/6ef8b302ly1gfawzrufulj20yi2coqfe.jpg)

自己偷了个懒，没有做导入模块的方法，于是单独在设置动作列表的界面下加了一节“自用模块”。

![](https://tva1.sinaimg.cn/large/6ef8b302ly1gfawzr080pj20yi0wwgn2.jpg)

10010那个总能在群组中看到有人问，自己打开scripts/10010.js,修改前3行即可；

百度地图就是专门为了适配那个剪贴板输入框写的，有同样需求需要通过widget输入内容打开URLScheme的可以照着这个改；

链接转换可以长短链互转，支持t.cn，u.nu；

bilibili那个用来保存直播或视频封面。

最后一个，4个功能，通过微博图链找Po主，weibo链接直接打开微博国际版，微博国际版链接转换，在微博国际版中打开微博用户链接。

以上便是目前集成的功能，请自行尝试，有问题或建议，欢迎来TG中私聊[我](https://t.me/coo11)。